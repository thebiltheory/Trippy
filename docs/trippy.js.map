{"version":3,"sources":["webpack:///webpack/bootstrap 67124b1ddf5c2c82d8c6","webpack:///./src/js/app/utils/helpers.js","webpack:///./src/js/index.js","webpack:///./src/js/app/modules/Itinerary.js","webpack:///./src/js/app/modules/PriorityQueue.js","webpack:///./src/js/app/modules/Sorter.js","webpack:///./src/js/app/api/api.js","webpack:///./src/js/app/components/card.ejs","webpack:///./src/js/app/components/form.ejs","webpack:///./src/scss/main.scss","webpack:///./src/index.html"],"names":["applyDiscount","price","discount","minItem","array","args","keys","join","sort","a","b","groupBy","key","reduce","groups","item","trip","push","toMinutes","hours","minutes","parseInt","totalSum","acc","current","append","id","element","doc","DOMParser","parseFromString","html","body","firstChild","document","getElementById","appendChild","getValue","value","getRadioValue","name","radios","getElementsByName","mode","i","length","checked","listenTo","event","callback","addEventListener","resetHtml","innerHTML","docReady","initFn","deals","trippy","renderList","values","departure","arrival","getItinerary","then","itinerary","forEach","card","setTimeout","renderCard","loadDestinations","getCities","allCities","cities","dest","map","city","includes","renderForm","data","form","formValues","formVal","trips","currency","destinations","route","findRoute","init","e","preventDefault","Itinerary","vertices","nodes","distances","previous","smallest","adj","neighbor","alt","enqueue","setPriority","vertex","priority","Object","Infinity","isEmpty","dequeue","previousS","stop","reverse","PriorityQueue","shift","shortestRoute","previousSmallest","filter","cost","duration","h","m","assign","initialPrice","total","sorter","stops","trippyGet","endpoint","headers","Headers","method","status","statusText","cache","request","Request","fetch","response","json"],"mappings":"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","file":"trippy.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 67124b1ddf5c2c82d8c6","/**\n * @file Set and export helpers\n * @author thebiltheory\n */\n\n/** @function applyDiscount */\nexport const applyDiscount = (price, discount) => price - (price * (discount / 100));\n\n/** @function minItem */\nexport const minItem = (array, ...args) => {\n  const keys = args.join('.');\n  return array.sort((a, b) => {\n    return a[keys] - b[keys];\n  })[0];\n};\n\n/** @function groupBy */\n/* Reference for future me\n * https://www.consolelog.io/group-by-in-javascript\n */\nexport const groupBy = (array, key) => {\n  return array.reduce((groups, item) => {\n    const trip = item[key];\n    groups[trip] = groups[trip] || [];\n    groups[trip].push(item);\n    return groups;\n  }, {});\n};\n\n/** @function toMinutes */\nexport const toMinutes = (hours, minutes) => {\n  return (60 * parseInt(hours, 10)) + parseInt(minutes, 10);\n};\n\n/** @function totalSum */\nexport const totalSum = (array) => array.reduce((acc, current) => {\n  return acc + current;\n});\n\n/** @function append */\nexport const append = (id, element) => {\n  const doc = new DOMParser().parseFromString(element, 'text/html');\n  const html = doc.body.firstChild;\n  document.getElementById(id).appendChild(html);\n};\n\n/** @function getValue */\nexport const getValue = (id) => {\n  return document.getElementById(id).value;\n};\n\n/** @function getRadioValue */\nexport const getRadioValue = (name) => {\n  const radios = [...document.getElementsByName(name)];\n  let mode = null;\n  for (let i = 0; i < radios.length; i += 1) {\n    if (radios[i].checked) {\n      mode = radios[i].value;\n      return mode;\n    }\n  }\n};\n\n/** @function listenTo */\nexport const listenTo = (id, event, callback) => {\n  return document.getElementById(id).addEventListener(event, callback);\n};\n\n/** @function resetHtml */\nexport const resetHtml = (id) => {\n  document.getElementById(id).innerHTML = '';\n}\n\n/** @function docReady */\nexport const docReady = (initFn) => {\n  document.addEventListener('DOMContentLoaded', initFn);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app/utils/helpers.js","import Itinerary from './app/modules/Itinerary';\nimport { groupBy, append, getValue, listenTo, resetHtml, docReady, getRadioValue } from './app/utils/helpers';\nimport { trippyGet } from './app/api/api';\nimport Card from './app/components/card.ejs';\nimport Form from './app/components/form.ejs';\n\nconst deals = '../response.json';\n\nconst trippy = {\n  renderList(values) {\n    const { mode, departure, arrival } = values;\n    this.getItinerary(mode, departure, arrival)\n      .then((itinerary) => {\n        itinerary.forEach((card, i) => {\n          setTimeout(() => {\n            this.renderCard(card);\n          }, 100 * i);\n        });\n      });\n  },\n\n  loadDestinations() {\n    const getCities = trippyGet(deals);\n    const allCities = [];\n    const cities = [];\n\n    getCities\n      .then((dest) => {\n        dest.deals.map((city) => {\n          allCities.push(city.departure);\n          allCities.push(city.arrival);\n        });\n      })\n      .then(() => {\n        // Runs after all cities have been pushed\n        allCities.forEach((city) => {\n          if (!cities.includes(city)) {\n            cities.push(city);\n          }\n        });\n      })\n      .then(() => {\n        this.renderForm({ cities });\n      })\n\n    return { cities };\n  },\n\n  renderCard(itinerary) {\n    const card = Card(itinerary);\n    append('board-list', card);\n  },\n\n  renderForm(data) {\n    const form = Form(data);\n    append('trip-form', form);\n  },\n\n  formValues() {\n    const formVal = {\n      departure: getValue('trip-from'),\n      arrival: getValue('trip-to'),\n      mode: getRadioValue('trip-mode'),\n    };\n\n    return formVal;\n  },\n\n  getItinerary(mode, departure, arrival) {\n    const trips = trippyGet(deals);\n\n    return trips.then((cities) => {\n      const { currency, deals } = cities;\n      const destinations = groupBy(deals, 'departure');\n      const route = new Itinerary(destinations);\n\n      return route.findRoute(mode, departure, arrival);\n    });\n  },\n\n  init() {\n    this.loadDestinations();\n\n    listenTo('trip-form', 'submit', (e) => {\n      e.preventDefault();\n      resetHtml('board-list');\n      this.renderList(this.formValues());\n    });\n  },\n\n};\n\ndocReady(() => {\n  trippy.init();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","import PriorityQueue from './PriorityQueue';\nimport { sorter } from './Sorter';\nimport { totalSum } from '../utils/helpers';\n\n/**\n * Creates a new Itinerary (path)\n * @class Itinerary\n * @reference https://brilliant.org/wiki/dijkstras-short-path-finder/\n * @reference https://leanpub.com/computer-science-distilled\n */\nexport default class Itinerary {\n  constructor(trips) {\n    this.vertices = trips;\n    // this.mode = mode; // Cheapest/Fastest\n    this.nodes = new PriorityQueue();\n    this.distances = {};\n    this.previous = {};\n    this.smallest = null;\n    this.route = [];\n  }\n\n  findRoute(mode, departure, arrival) {\n    const adj = (neighbor, alt) => {\n      this.distances[neighbor] = alt;\n      this.previous[neighbor] = this.smallest;\n      return this.nodes.enqueue(neighbor, alt);\n    };\n\n    const setPriority = (vertex, priority) => {\n      this.distances[vertex] = priority;\n      return this.nodes.enqueue(vertex, priority);\n    };\n\n    Object.keys(this.vertices).forEach((vertex) => {\n      if (vertex === departure) {\n        setPriority(vertex, 0);\n      } else {\n        setPriority(vertex, Infinity);\n      }\n      this.previous[vertex] = null;\n    });\n\n    while (!this.nodes.isEmpty()) {\n      this.smallest = this.nodes.dequeue();\n\n      if (this.smallest === arrival) {\n        while (this.previous[this.smallest]) {\n          // const travelMode = this.mode;\n          const previousS = this.vertices[this.previous[this.smallest]];\n          const smallest = this.smallest;\n          const stop = sorter(mode, previousS, smallest);\n          this.route.push(stop);\n          this.smallest = this.previous[this.smallest];\n        }\n        break;\n      }\n\n      if (!this.smallest || this.distances[this.smallest] === Infinity) {\n        continue;\n      }\n\n      this.vertices[this.smallest].map((a) => {\n        const alt = this.distances[this.smallest];\n        alt < this.distances[a.arrival] && adj(a.arrival, alt);\n        return true;\n      });\n    }\n\n    // console.table(this.route.reverse());\n    return this.route.reverse();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app/modules/Itinerary.js","/** Minimalist Priority Queue. */\nexport default class PriorityQueue {\n  constructor() {\n    this.nodes = [];\n  }\n\n  /**\n   * Enqueue a new element to the Queue\n   * @param {value} key value of the key item\n   * @param {number} priority set the priority of the item\n   */\n  enqueue(key, priority) {\n    this.nodes.push({ key, priority });\n    this.sort();\n  }\n\n  /**\n   * Dequeue the first element\n   * @return {value}\n   */\n  dequeue() {\n    return this.nodes.shift().key;\n  }\n\n  /**\n   * Sort the node Queue\n   */\n  sort() {\n    this.nodes.sort((a, b) => a.priority - b.priority);\n  }\n  /**\n   * Sort the node Queue\n   * @return {Boolean}\n   */\n  isEmpty() {\n    return !this.nodes.length;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app/modules/PriorityQueue.js","import { minItem, applyDiscount, toMinutes } from '../utils/helpers';\n\n// export const route = [];\n\nconst shortestRoute = (previousSmallest, smallest) => {\n  return previousSmallest.filter((dest) => {\n    if (dest.arrival === smallest) {\n      const { cost, discount } = dest;\n      const { h: hours, m: minutes } = dest.duration;\n      return Object.assign(dest, {\n        cost: discount ? applyDiscount(cost, discount) : cost,\n        initialPrice: cost,\n        duration: {\n          h: hours,\n          m: minutes,\n          total: toMinutes(hours, minutes),\n        },\n      });\n    }\n    return false;\n  });\n};\n\nexport const sorter = (mode, previous, smallest) => {\n  const stops = shortestRoute(previous, smallest);\n\n  let stop = {};\n  switch (mode) {\n    case 'cheapest': {\n      stop = minItem(stops, 'cost');\n      break;\n    }\n    case 'fastest': {\n      // stop = minItem(stops, 'duration', 'total');\n      stop = minItem(stops, 'duration');\n      break;\n    }\n    default: {\n      stop = minItem(stops, 'cost');\n    }\n  }\n\n  return stop;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app/modules/Sorter.js","/**\n * @function trippyGet api call to als endpointde\n * @param {url} endpoint for example purpose response.json\n */\nexport const trippyGet = (endpoint) => {\n  const headers = new Headers();\n  const init = {\n    method: 'GET',\n    status: 200,\n    statusText: 'Yep, found it!',\n    headers,\n    mode: 'no-cors',\n    cache: 'default',\n  };\n\n  const request = new Request(endpoint, init);\n\n  return fetch(request)\n    .then((response) => {\n      return response.json();\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/app/api/api.js","module.exports = function anonymous(locals, filters, escape, rethrow) {\n    escape = escape || function(html) {\n        return String(html).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/'/g, \"&#39;\").replace(/\"/g, \"&quot;\");\n    };\n    var __stack = {\n        lineno: 1,\n        input: '<li class=\"board-card\" data-ref=\"<%= reference %>\">\\n  <div class=\"header-card\">\\n    <div class=\"departure\">\\n      <h4><%= departure %></h4>\\n    </div>\\n    <div class=\"from-to-icon\">\\n\\n      <% if (transport === \\'train\\') { %>\\n        <i class=\"ion-android-train\"></i>\\n        <% } else{ %>\\n          <i class=\"ion-android-bus\"></i>\\n        <% } %>\\n\\n        <div class=\"dots\"></div>\\n\\n    </div>\\n    <div class=\"arrival\">\\n      <h4><%= arrival %></h4>\\n    </div>\\n  </div>\\n  <div class=\"footer-card\">\\n    <div class=\"reference\">\\n      <span>Reference</span>\\n      <%= reference %>\\n    </div>\\n\\n    <div class=\"transport\">\\n      <span>Transport</span>\\n      <%= transport %>\\n    </div>\\n\\n    <div class=\"duration\">\\n      <span>Duration</span>\\n      <%= duration.h %>H<%= duration.m %>\\n    </div>\\n\\n    <div class=\"cost\">\\n      <span>Cost</span>\\n      <%= cost %>\\n    </div>\\n\\n  </div>\\n</li>\\n',\n        filename: \".\"\n    };\n    function rethrow(err, str, filename, lineno) {\n        var lines = str.split(\"\\n\"), start = Math.max(lineno - 3, 0), end = Math.min(lines.length, lineno + 3);\n        var context = lines.slice(start, end).map(function(line, i) {\n            var curr = i + start + 1;\n            return (curr == lineno ? \" >> \" : \"    \") + curr + \"| \" + line;\n        }).join(\"\\n\");\n        err.path = filename;\n        err.message = (filename || \"ejs\") + \":\" + lineno + \"\\n\" + context + \"\\n\\n\" + err.message;\n        throw err;\n    }\n    try {\n        var buf = [];\n        with (locals || {}) {\n            (function() {\n                buf.push('<li class=\"board-card\" data-ref=\"', escape((__stack.lineno = 1, reference)), '\">\\n  <div class=\"header-card\">\\n    <div class=\"departure\">\\n      <h4>', escape((__stack.lineno = 4, departure)), '</h4>\\n    </div>\\n    <div class=\"from-to-icon\">\\n\\n      ');\n                __stack.lineno = 8;\n                if (transport === \"train\") {\n                    buf.push('\\n        <i class=\"ion-android-train\"></i>\\n        ');\n                    __stack.lineno = 10;\n                } else {\n                    buf.push('\\n          <i class=\"ion-android-bus\"></i>\\n        ');\n                    __stack.lineno = 12;\n                }\n                buf.push('\\n\\n        <div class=\"dots\"></div>\\n\\n    </div>\\n    <div class=\"arrival\">\\n      <h4>', escape((__stack.lineno = 18, arrival)), '</h4>\\n    </div>\\n  </div>\\n  <div class=\"footer-card\">\\n    <div class=\"reference\">\\n      <span>Reference</span>\\n      ', escape((__stack.lineno = 24, reference)), '\\n    </div>\\n\\n    <div class=\"transport\">\\n      <span>Transport</span>\\n      ', escape((__stack.lineno = 29, transport)), '\\n    </div>\\n\\n    <div class=\"duration\">\\n      <span>Duration</span>\\n      ', escape((__stack.lineno = 34, duration.h)), \"H\", escape((__stack.lineno = 34, duration.m)), '\\n    </div>\\n\\n    <div class=\"cost\">\\n      <span>Cost</span>\\n      ', escape((__stack.lineno = 39, cost)), \"\\n    </div>\\n\\n  </div>\\n</li>\\n\");\n            })();\n        }\n        return buf.join(\"\");\n    } catch (err) {\n        rethrow(err, __stack.input, __stack.filename, __stack.lineno);\n    }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/app/components/card.ejs\n// module id = 7\n// module chunks = 0","module.exports = function anonymous(locals, filters, escape, rethrow) {\n    escape = escape || function(html) {\n        return String(html).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/'/g, \"&#39;\").replace(/\"/g, \"&quot;\");\n    };\n    var __stack = {\n        lineno: 1,\n        input: '<form id=\"trip-form\" class=\"form-horizontal\">\\n<fieldset>\\n\\n<!-- Select Basic -->\\n<div class=\"form-group\">\\n  <div class=\"col-md-5\">\\n    <select id=\"trip-from\" name=\"selectbasic\" class=\"form-control\">\\n      <option>From</option>\\n      <% cities.forEach(function(city){ %>\\n        <option value=\"<%= city %>\"><%= city %></option>\\n      <% }); %>\\n    </select>\\n  </div>\\n  <div class=\"col-md-5\">\\n    <select id=\"trip-to\" name=\"selectbasic\" class=\"form-control\">\\n      <option>To</option>\\n      <% cities.forEach(function(city){ %>\\n        <option value=\"<%= city %>\"><%= city %></option>\\n      <% }); %>\\n    </select>\\n  </div>\\n</div>\\n\\n<!-- Multiple Radios (inline) -->\\n<div class=\"form-group\" id=\"trip-mode\">\\n  <label class=\"radio-inline\" for=\"cheapest\">\\n    <input type=\"radio\" name=\"trip-mode\" id=\"cheapest\" value=\"cheapest\" checked>\\n    Cheapest\\n  </label>\\n  <label class=\"radio-inline\" for=\"fastest\">\\n    <input type=\"radio\" name=\"trip-mode\" id=\"fastest\" value=\"fastest\">\\n    Fastest\\n  </label>\\n</div>\\n\\n<!-- Button -->\\n<div class=\"form-group\">\\n  <div class=\"col-md-4\">\\n    <button id=\"singlebutton\" name=\"singlebutton\" class=\"btn btn-primary\">Let\\'s Go</button>\\n  </div>\\n</div>\\n\\n</fieldset>\\n</form>\\n',\n        filename: \".\"\n    };\n    function rethrow(err, str, filename, lineno) {\n        var lines = str.split(\"\\n\"), start = Math.max(lineno - 3, 0), end = Math.min(lines.length, lineno + 3);\n        var context = lines.slice(start, end).map(function(line, i) {\n            var curr = i + start + 1;\n            return (curr == lineno ? \" >> \" : \"    \") + curr + \"| \" + line;\n        }).join(\"\\n\");\n        err.path = filename;\n        err.message = (filename || \"ejs\") + \":\" + lineno + \"\\n\" + context + \"\\n\\n\" + err.message;\n        throw err;\n    }\n    try {\n        var buf = [];\n        with (locals || {}) {\n            (function() {\n                buf.push('<form id=\"trip-form\" class=\"form-horizontal\">\\n<fieldset>\\n\\n<!-- Select Basic -->\\n<div class=\"form-group\">\\n  <div class=\"col-md-5\">\\n    <select id=\"trip-from\" name=\"selectbasic\" class=\"form-control\">\\n      <option>From</option>\\n      ');\n                __stack.lineno = 9;\n                cities.forEach(function(city) {\n                    buf.push('\\n        <option value=\"', escape((__stack.lineno = 10, city)), '\">', escape((__stack.lineno = 10, city)), \"</option>\\n      \");\n                    __stack.lineno = 11;\n                });\n                buf.push('\\n    </select>\\n  </div>\\n  <div class=\"col-md-5\">\\n    <select id=\"trip-to\" name=\"selectbasic\" class=\"form-control\">\\n      <option>To</option>\\n      ');\n                __stack.lineno = 17;\n                cities.forEach(function(city) {\n                    buf.push('\\n        <option value=\"', escape((__stack.lineno = 18, city)), '\">', escape((__stack.lineno = 18, city)), \"</option>\\n      \");\n                    __stack.lineno = 19;\n                });\n                buf.push('\\n    </select>\\n  </div>\\n</div>\\n\\n<!-- Multiple Radios (inline) -->\\n<div class=\"form-group\" id=\"trip-mode\">\\n  <label class=\"radio-inline\" for=\"cheapest\">\\n    <input type=\"radio\" name=\"trip-mode\" id=\"cheapest\" value=\"cheapest\" checked>\\n    Cheapest\\n  </label>\\n  <label class=\"radio-inline\" for=\"fastest\">\\n    <input type=\"radio\" name=\"trip-mode\" id=\"fastest\" value=\"fastest\">\\n    Fastest\\n  </label>\\n</div>\\n\\n<!-- Button -->\\n<div class=\"form-group\">\\n  <div class=\"col-md-4\">\\n    <button id=\"singlebutton\" name=\"singlebutton\" class=\"btn btn-primary\">Let\\'s Go</button>\\n  </div>\\n</div>\\n\\n</fieldset>\\n</form>\\n');\n            })();\n        }\n        return buf.join(\"\");\n    } catch (err) {\n        rethrow(err, __stack.input, __stack.filename, __stack.lineno);\n    }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/app/components/form.ejs\n// module id = 8\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scss/main.scss\n// module id = 9\n// module chunks = 0","module.exports = \"<html>\\n<head>\\n  <meta charset=\\\"UTF-8\\\">\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n  <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"ie=edge\\\">\\n  <!-- <link rel=\\\"stylesheet\\\" href=\\\"http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css\\\"> -->\\n  <!-- <link href=\\\"https://fonts.googleapis.com/css?family=Montserrat:400,500,700\\\" rel=\\\"stylesheet\\\"> -->\\n  <!-- <link rel=\\\"stylesheet\\\" href=\\\"./css/trippy.css\\\"> -->\\n  <title>Trippy</title>\\n</head>\\n<body>\\n\\n<div id=\\\"trippy-app\\\">\\n  <div id=\\\"trip-form\\\"></div>\\n  <ul id=\\\"board-list\\\"></ul>\\n</div>\\n\\n<!-- <script src=\\\"./js/trippy.js\\\" type=\\\"text/javascript\\\"></script> -->\\n<script id=\\\"__bs_script__\\\">//<![CDATA[\\n    document.write(\\\"<script async src='http://HOST:3000/browser-sync/browser-sync-client.js?v=2.18.13'><\\\\/script>\\\".replace(\\\"HOST\\\", location.hostname));\\n//]]></script>\\n</body>\\n</html>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.html\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}